<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Premium Hero Carousel</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --header-height-desktop: 80px;
            --navbar-height-mobile: 70px;
            
            /* Cream Background Color Palette */
            --page-bg: #fefcf3;
            --text-primary: #3f0b17;
            --text-secondary: #6b422a;
            --text-light: #a3715f;
            --brand-primary: #8b2635;
            --brand-secondary: #d33d49;
            --progress-color: linear-gradient(90deg, #8b2635, #d33d49);
            --progress-bg: rgba(59, 11, 23, 0.15);
            --glass-bg: rgba(255, 255, 255, 0.8);
            --glass-border: rgba(139, 38, 53, 0.1);
            --circle-bg: #fff9f0;
            --circle-border: #e8d5c4;
            --shadow-light: 0 4px 20px rgba(59, 11, 23, 0.08);
            --shadow-medium: 0 8px 30px rgba(59, 11, 23, 0.12);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: var(--page-bg);
            font-family: "DM Sans", Roboto, sans-serif;
            overflow-x: hidden;
            color: var(--text-primary);
        }

        /* ============= FULL WIDTH HERO CAROUSEL ============= */
        .hero-section {
            width: 100%;
            position: relative;
            overflow: hidden;
            margin-top: var(--header-height-desktop);
            height: calc(65vh - var(--header-height-desktop));
            min-height: 500px;
            max-height: 600px;
            background: var(--page-bg);
        }

        .carousel-container {
            position: relative;
            width: 100%;
            height: 100%;
            /* REMOVED BORDER RADIUS FOR FULL WIDTH */
            overflow: hidden;
            margin: 0 auto;
            /* REMOVED MAX-WIDTH FOR FULL WIDTH */
            box-shadow: var(--shadow-medium);
        }

        .carousel-track {
            display: flex;
            height: 100%;
            transition: transform 1s cubic-bezier(0.33, 1, 0.68, 1);
        }

        .carousel-slide {
            flex: 0 0 100%;
            height: 100%;
            position: relative;
            overflow: hidden;
        }

        /* Premium Image Effects */
        .slide-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            transition: transform 12s ease-out;
        }

        .carousel-slide.active .slide-image {
            transform: scale(1.08);
        }

        /* Glass Overlay Effect */
        .glass-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, 
                rgba(254, 252, 243, 0.1) 0%,
                rgba(254, 252, 243, 0.05) 50%,
                rgba(254, 252, 243, 0.1) 100%);
            z-index: 1;
        }

        /* Premium Progress Indicators Container */
        .progress-indicators {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 10;
            padding: 12px 20px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 100px;
            box-shadow: var(--shadow-light);
        }

        /* Individual Progress Indicator */
        .progress-indicator {
            width: 50px;
            height: 3px;
            background: var(--progress-bg);
            border-radius: 2px;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .progress-indicator:hover {
            transform: scaleY(1.5);
            background: rgba(139, 38, 53, 0.25);
        }

        .progress-indicator.active {
            background: transparent;
        }

        /* Progress Fill Animation */
        .progress-fill {
            position: absolute;
            top: 0;
            left: 0;
            width: 0%;
            height: 100%;
            background: var(--progress-color);
            border-radius: 2px;
            transition: width 0.1s linear;
        }

        .progress-indicator.active .progress-fill {
            box-shadow: 0 0 8px rgba(139, 38, 53, 0.4);
        }

        /* Premium Navigation Arrows */
        .carousel-nav {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            transform: translateY(-50%);
            display: flex;
            justify-content: space-between;
            padding: 0 30px;
            z-index: 10;
            pointer-events: none;
        }

        .nav-arrow {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: auto;
            opacity: 0;
            transform: translateX(-15px);
        }

        .carousel-container:hover .nav-arrow {
            opacity: 1;
            transform: translateX(0);
        }

        .nav-arrow:hover {
            background: rgba(139, 38, 53, 0.1);
            border-color: rgba(139, 38, 53, 0.2);
            transform: scale(1.1) !important;
            box-shadow: var(--shadow-light);
        }

        .nav-arrow svg {
            width: 24px;
            height: 24px;
            stroke: var(--text-primary);
            stroke-width: 2;
        }

        .nav-arrow.next {
            transform: translateX(15px);
        }

        .carousel-container:hover .nav-arrow.next {
            transform: translateX(0);
        }

        /* ============= CATEGORIES SECTION ============= */
        .categories-section {
            padding: 50px 20px;
            background: var(--page-bg);
            max-width: 1600px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 40px;
            color: var(--text-primary);
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: var(--brand-primary);
            border-radius: 2px;
        }

        /* Desktop Categories Grid */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 25px;
            justify-content: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Category Item */
        .category-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .category-circle {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            background: var(--circle-bg);
            border: 2px solid var(--circle-border);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow-light);
        }

        .category-circle img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .category-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            text-align: center;
            transition: color 0.3s ease;
            line-height: 1.4;
            padding: 0 5px;
        }

        /* Hover Effects */
        .category-item:hover .category-circle {
            transform: translateY(-8px);
            border-color: var(--brand-primary);
            box-shadow: var(--shadow-medium);
        }

        .category-item:hover .category-circle img {
            transform: scale(1.1);
        }

        .category-item:hover .category-name {
            color: var(--brand-primary);
        }

        /* Mobile Categories Styles */
        @media (max-width: 1024px) {
            .categories-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 20px;
            }
            
            .category-circle {
                width: 120px;
                height: 120px;
            }
        }

        @media (max-width: 768px) {
            .hero-section {
                margin-top: var(--navbar-height-mobile);
                height: calc(60vh - var(--navbar-height-mobile));
                min-height: 400px;
                max-height: 500px;
            }

            /* Show mobile images, hide desktop images */
            .desktop-image { display: none !important; }
            .mobile-image { display: block !important; }

            .progress-indicators {
                bottom: 20px;
                gap: 10px;
                padding: 10px 16px;
            }

            .progress-indicator {
                width: 35px;
                height: 2.5px;
            }

            .carousel-nav {
                padding: 0 15px;
            }

            .nav-arrow {
                width: 40px;
                height: 40px;
                opacity: 1;
                transform: translateX(0) !important;
                background: rgba(255, 255, 255, 0.9);
                border: 1px solid rgba(139, 38, 53, 0.2);
            }

            /* Adjust image zoom for mobile */
            .carousel-slide.active .slide-image {
                transform: scale(1.05);
            }

            /* Mobile Categories Container with Horizontal Scroll */
            .categories-grid {
                display: flex;
                grid-template-columns: none;
                gap: 20px;
                overflow-x: auto;
                padding: 20px 10px 40px;
                scrollbar-width: none;
                -ms-overflow-style: none;
                scroll-behavior: smooth;
                justify-content: flex-start;
                max-width: 100%;
                margin: 0;
            }

            .categories-grid::-webkit-scrollbar {
                display: none;
            }

            .category-item {
                flex: 0 0 auto;
                width: 110px;
            }

            .category-circle {
                width: 100px;
                height: 100px;
            }

            .category-name {
                font-size: 14px;
            }

            .section-title {
                font-size: 28px;
                margin-bottom: 30px;
            }

            /* Mobile Navigation Arrows for Categories */
            .categories-container {
                position: relative;
                max-width: 100%;
                overflow: hidden;
            }

            .scroll-arrow {
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                width: 40px;
                height: 40px;
                border-radius: 50%;
                background: var(--glass-bg);
                backdrop-filter: blur(10px);
                border: 1px solid var(--glass-border);
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                z-index: 20;
                transition: all 0.3s ease;
                box-shadow: var(--shadow-light);
            }

            .scroll-arrow:hover {
                background: rgba(139, 38, 53, 0.1);
                border-color: var(--brand-primary);
            }

            .scroll-arrow.left {
                left: 10px;
            }

            .scroll-arrow.right {
                right: 10px;
            }

            .scroll-arrow svg {
                width: 20px;
                height: 20px;
                stroke: var(--text-primary);
            }

            .scroll-arrow.hidden {
                opacity: 0;
                pointer-events: none;
            }
        }

        /* Desktop-specific adjustments */
        @media (min-width: 769px) {
            .desktop-image { display: block !important; }
            .mobile-image { display: none !important; }
            
            .categories-container {
                position: relative;
            }
            
            .scroll-arrow {
                display: none;
            }
        }

        /* Premium Animations */
        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateY(30px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        .carousel-slide {
            animation: slideIn 0.8s cubic-bezier(0.33, 1, 0.68, 1) forwards;
        }

        /* Pulse animation for active indicator */
        @keyframes pulse {
            0%, 100% { 
                box-shadow: 0 0 0 0 rgba(139, 38, 53, 0.4);
            }
            50% { 
                box-shadow: 0 0 0 4px rgba(139, 38, 53, 0);
            }
        }

        .progress-indicator.active .progress-fill {
            animation: pulse 2s infinite;
        }

        /* Hover pause effect */
        .carousel-container.paused .progress-fill {
            animation-play-state: paused !important;
        }

        /* Responsive padding for sections */
        @media (min-width: 1200px) {
            .categories-section {
                padding-left: 40px;
                padding-right: 40px;
            }
        }

        @media (max-width: 480px) {
            .category-item {
                width: 95px;
            }
            
            .category-circle {
                width: 85px;
                height: 85px;
            }
            
            .category-name {
                font-size: 12px;
            }
            
            .section-title {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <!-- Premium Hero Carousel (FULL WIDTH) -->
    <section class="hero-section" id="hero-carousel">
        <div class="carousel-container" id="carousel-container">
            <div class="carousel-track" id="carousel-track">
                <!-- Slide 1 -->
                <div class="carousel-slide active" data-slide="1">
                    <!-- Desktop Image -->
                    <img src="https://images.unsplash.com/photo-1441986300917-64674bd600d8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1920&q=80" 
                         alt="Fashion Collection 1" 
                         class="slide-image desktop-image">
                    <!-- Mobile Image - CHANGED -->
                    <img src="https://images.unsplash.com/photo-1523381210434-271e8be1f52b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" 
                         alt="Fashion Collection 1" 
                         class="slide-image mobile-image">
                    <div class="glass-overlay"></div>
                </div>

                <!-- Slide 2 -->
                <div class="carousel-slide" data-slide="2">
                    <!-- Desktop Image -->
                    <img src="https://images.unsplash.com/photo-1445205170230-053b83016050?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1920&q=80" 
                         alt="Fashion Collection 2" 
                         class="slide-image desktop-image">
                    <!-- Mobile Image - CHANGED -->
                    <img src="https://images.unsplash.com/photo-1490481651871-ab68de25d43d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" 
                         alt="Fashion Collection 2" 
                         class="slide-image mobile-image">
                    <div class="glass-overlay"></div>
                </div>

                <!-- Slide 3 -->
                <div class="carousel-slide" data-slide="3">
                    <!-- Desktop Image -->
                    <img src="https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1920&q=80" 
                         alt="Fashion Collection 3" 
                         class="slide-image desktop-image">
                    <!-- Mobile Image - CHANGED -->
                    <img src="https://images.unsplash.com/photo-1490481651871-ab68de25d43d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" 
                         alt="Fashion Collection 3" 
                         class="slide-image mobile-image">
                    <div class="glass-overlay"></div>
                </div>

                <!-- Slide 4 -->
                <div class="carousel-slide" data-slide="4">
                    <!-- Desktop Image -->
                    <img src="https://images.unsplash.com/photo-1490481651871-ab68de25d43d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1920&q=80" 
                         alt="Fashion Collection 4" 
                         class="slide-image desktop-image">
                    <!-- Mobile Image - CHANGED -->
                    <img src="https://images.unsplash.com/photo-1523381210434-271e8be1f52b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" 
                         alt="Fashion Collection 4" 
                         class="slide-image mobile-image">
                    <div class="glass-overlay"></div>
                </div>
            </div>

            <!-- Navigation Arrows -->
            <div class="carousel-nav">
                <button class="nav-arrow prev" id="carousel-prev" aria-label="Previous slide">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="m15 18-6-6 6-6"/>
                    </svg>
                </button>
                <button class="nav-arrow next" id="carousel-next" aria-label="Next slide">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="m9 18 6-6-6-6"/>
                    </svg>
                </button>
            </div>

            <!-- Progress Indicators -->
            <div class="progress-indicators" id="progress-indicators">
                <div class="progress-indicator active" data-slide="1">
                    <div class="progress-fill"></div>
                </div>
                <div class="progress-indicator" data-slide="2">
                    <div class="progress-fill"></div>
                </div>
                <div class="progress-indicator" data-slide="3">
                    <div class="progress-fill"></div>
                </div>
                <div class="progress-indicator" data-slide="4">
                    <div class="progress-fill"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section class="categories-section">
        <h2 class="section-title">Shop by Category</h2>
        
        <div class="categories-container">
            <button class="scroll-arrow left hidden" id="scroll-left">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m15 18-6-6 6-6"/>
                </svg>
            </button>
            
            <div class="categories-grid" id="categories-grid">
                <!-- Category 1 -->
                <a href="#" class="category-item">
                    <div class="category-circle">
                        <img src="https://images.unsplash.com/photo-1568259839926-4c4b0dc48a1c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="Saree">
                    </div>
                    <div class="category-name">Saree</div>
                </a>
                
                <!-- Category 2 -->
                <a href="#" class="category-item">
                    <div class="category-circle">
                        <img src="https://images.unsplash.com/photo-1490481651871-ab68de25d43d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="Dresses">
                    </div>
                    <div class="category-name">Dresses</div>
                </a>
                
                <!-- Category 3 -->
                <a href="#" class="category-item">
                    <div class="category-circle">
                        <img src="https://images.unsplash.com/photo-1595777457583-95e059d581b8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="Kurtas">
                    </div>
                    <div class="category-name">Kurtas</div>
                </a>
                
                <!-- Category 4 -->
                <a href="#" class="category-item">
                    <div class="category-circle">
                        <img src="https://images.unsplash.com/photo-1584917865442-de89df76afd3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="Jewelry">
                    </div>
                    <div class="category-name">Jewelry</div>
                </a>
                
                <!-- Category 5 -->
                <a href="#" class="category-item">
                    <div class="category-circle">
                        <img src="https://images.unsplash.com/photo-1544441893-675973e31985?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="Bags">
                    </div>
                    <div class="category-name">Bags</div>
                </a>
                
                <!-- Category 6 -->
                <a href="#" class="category-item">
                    <div class="category-circle">
                        <img src="https://images.unsplash.com/photo-1584917865442-de89df76afd3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="Accessories">
                    </div>
                    <div class="category-name">Accessories</div>
                </a>
            </div>
            
            <button class="scroll-arrow right" id="scroll-right">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m9 18 6-6-6-6"/>
                </svg>
            </button>
        </div>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ============= CAROUSEL FUNCTIONALITY =============
            const carouselContainer = document.getElementById('carousel-container');
            const carouselTrack = document.getElementById('carousel-track');
            const carouselSlides = document.querySelectorAll('.carousel-slide');
            const progressIndicators = document.querySelectorAll('.progress-indicator');
            const prevButton = document.getElementById('carousel-prev');
            const nextButton = document.getElementById('carousel-next');
            
            // Carousel state variables
            let currentSlide = 0;
            let slideCount = carouselSlides.length;
            let isAnimating = false;
            const slideDuration = 5000; // 5 seconds
            
            // Progress state for each slide
            let progressStates = Array(slideCount).fill().map(() => ({
                isActive: false,
                progress: 0,
                startTime: null,
                animationFrame: null
            }));
            
            // Initialize carousel
            function initCarousel() {
                // Set initial positions
                updateCarousel();
                
                // Start progress for first slide
                startProgressAnimation(currentSlide);
                
                // Add event listeners
                prevButton.addEventListener('click', goToPrevSlide);
                nextButton.addEventListener('click', goToNextSlide);
                
                // Indicator click navigation
                progressIndicators.forEach(indicator => {
                    indicator.addEventListener('click', function() {
                        const slideIndex = parseInt(this.getAttribute('data-slide')) - 1;
                        if (slideIndex !== currentSlide) {
                            goToSlide(slideIndex);
                        }
                    });
                });
                
                // Pause progress on hover, resume on unhover
                carouselContainer.addEventListener('mouseenter', pauseProgress);
                carouselContainer.addEventListener('mouseleave', resumeProgress);
                
                // Touch support for mobile
                let touchStartX = 0;
                let touchEndX = 0;
                let isTouching = false;
                
                carouselContainer.addEventListener('touchstart', function(e) {
                    touchStartX = e.changedTouches[0].screenX;
                    isTouching = true;
                    pauseProgress();
                }, {passive: true});
                
                carouselContainer.addEventListener('touchmove', function(e) {
                    if (!isTouching) return;
                    touchEndX = e.changedTouches[0].screenX;
                }, {passive: true});
                
                carouselContainer.addEventListener('touchend', function(e) {
                    if (!isTouching) return;
                    
                    const swipeThreshold = 50;
                    const difference = touchStartX - touchEndX;
                    
                    if (Math.abs(difference) > swipeThreshold) {
                        if (difference > 0) {
                            goToNextSlide();
                        } else {
                            goToPrevSlide();
                        }
                    }
                    
                    isTouching = false;
                    
                    // Resume after delay
                    setTimeout(resumeProgress, 1000);
                }, {passive: true});
            }
            
            // Update carousel display
            function updateCarousel() {
                // Move track to current slide
                carouselTrack.style.transform = `translateX(-${currentSlide * 100}%)`;
                
                // Update slide active states
                carouselSlides.forEach((slide, index) => {
                    if (index === currentSlide) {
                        slide.classList.add('active');
                    } else {
                        slide.classList.remove('active');
                    }
                });
                
                // Update progress indicators
                progressIndicators.forEach((indicator, index) => {
                    if (index === currentSlide) {
                        indicator.classList.add('active');
                    } else {
                        indicator.classList.remove('active');
                        // Reset progress for inactive indicators
                        resetProgress(index);
                    }
                });
                
                // Reset animation flag
                setTimeout(() => {
                    isAnimating = false;
                }, 800);
            }
            
            // Start progress animation for a specific slide
            function startProgressAnimation(slideIndex) {
                // Stop any existing animation
                stopProgressAnimation(slideIndex);
                
                const indicator = progressIndicators[slideIndex];
                const fill = indicator.querySelector('.progress-fill');
                
                // Reset fill
                fill.style.transition = 'none';
                fill.style.width = '0%';
                
                // Force reflow
                fill.offsetHeight;
                
                // Start animation
                fill.style.transition = `width ${slideDuration}ms linear`;
                fill.style.width = '100%';
                
                // Store start time
                progressStates[slideIndex].startTime = Date.now();
                progressStates[slideIndex].isActive = true;
                
                // Set timeout to go to next slide
                progressStates[slideIndex].animationFrame = setTimeout(() => {
                    if (slideIndex === currentSlide && progressStates[slideIndex].isActive) {
                        goToNextSlide();
                    }
                }, slideDuration);
            }
            
            // Pause progress animation
            function pauseProgress() {
                carouselContainer.classList.add('paused');
                
                // Pause current slide progress
                const currentState = progressStates[currentSlide];
                if (currentState.isActive && currentState.startTime) {
                    // Calculate current progress
                    const elapsed = Date.now() - currentState.startTime;
                    const progressPercent = Math.min(100, (elapsed / slideDuration) * 100);
                    
                    // Clear the timeout
                    if (currentState.animationFrame) {
                        clearTimeout(currentState.animationFrame);
                    }
                    
                    // Store progress
                    currentState.progress = progressPercent;
                    currentState.isActive = false;
                    
                    // Set current width
                    const fill = progressIndicators[currentSlide].querySelector('.progress-fill');
                    fill.style.transition = 'none';
                    fill.style.width = progressPercent + '%';
                }
            }
            
            // Resume progress animation
            function resumeProgress() {
                carouselContainer.classList.remove('paused');
                
                const currentState = progressStates[currentSlide];
                if (!currentState.isActive && currentState.progress > 0 && currentState.progress < 100) {
                    // Calculate remaining time
                    const remainingTime = slideDuration * (1 - currentState.progress / 100);
                    
                    // Get the fill element
                    const fill = progressIndicators[currentSlide].querySelector('.progress-fill');
                    
                    // Reset transition
                    fill.style.transition = `width ${remainingTime}ms linear`;
                    fill.style.width = '100%';
                    
                    // Store new start time
                    currentState.startTime = Date.now() - (slideDuration * (currentState.progress / 100));
                    currentState.isActive = true;
                    
                    // Set new timeout
                    currentState.animationFrame = setTimeout(() => {
                        if (currentSlide === currentSlide && currentState.isActive) {
                            goToNextSlide();
                        }
                    }, remainingTime);
                }
            }
            
            // Stop progress animation for a specific slide
            function stopProgressAnimation(slideIndex) {
                const state = progressStates[slideIndex];
                if (state.animationFrame) {
                    clearTimeout(state.animationFrame);
                }
                state.isActive = false;
                state.startTime = null;
                state.animationFrame = null;
            }
            
            // Reset progress for a specific slide
            function resetProgress(slideIndex) {
                const fill = progressIndicators[slideIndex].querySelector('.progress-fill');
                fill.style.transition = 'none';
                fill.style.width = '0%';
                
                progressStates[slideIndex] = {
                    isActive: false,
                    progress: 0,
                    startTime: null,
                    animationFrame: null
                };
            }
            
            // Go to specific slide
            function goToSlide(slideIndex) {
                if (isAnimating) return;
                
                isAnimating = true;
                
                // Stop current progress
                stopProgressAnimation(currentSlide);
                
                // Update current slide
                currentSlide = slideIndex;
                
                // Loop back to beginning if at end
                if (currentSlide >= slideCount) {
                    currentSlide = 0;
                }
                
                // Loop to end if before beginning
                if (currentSlide < 0) {
                    currentSlide = slideCount - 1;
                }
                
                // Update carousel
                updateCarousel();
                
                // Start progress for new slide
                startProgressAnimation(currentSlide);
            }
            
            // Go to next slide
            function goToNextSlide() {
                goToSlide(currentSlide + 1);
            }
            
            // Go to previous slide
            function goToPrevSlide() {
                goToSlide(currentSlide - 1);
            }
            
            // ============= CATEGORIES SCROLL FUNCTIONALITY =============
            const categoriesGrid = document.getElementById('categories-grid');
            const scrollLeftBtn = document.getElementById('scroll-left');
            const scrollRightBtn = document.getElementById('scroll-right');
            
            function initCategoriesScroll() {
                // Only add scroll functionality on mobile
                if (window.innerWidth <= 768) {
                    const scrollAmount = 150; // Adjust scroll amount
                    
                    scrollLeftBtn.addEventListener('click', () => {
                        categoriesGrid.scrollBy({
                            left: -scrollAmount,
                            behavior: 'smooth'
                        });
                    });
                    
                    scrollRightBtn.addEventListener('click', () => {
                        categoriesGrid.scrollBy({
                            left: scrollAmount,
                            behavior: 'smooth'
                        });
                    });
                    
                    // Update arrow visibility based on scroll position
                    categoriesGrid.addEventListener('scroll', updateArrowVisibility);
                    
                    // Initial check
                    updateArrowVisibility();
                }
            }
            
            function updateArrowVisibility() {
                const scrollLeft = categoriesGrid.scrollLeft;
                const scrollWidth = categoriesGrid.scrollWidth;
                const clientWidth = categoriesGrid.clientWidth;
                
                // Show/hide left arrow
                if (scrollLeft <= 10) {
                    scrollLeftBtn.classList.add('hidden');
                } else {
                    scrollLeftBtn.classList.remove('hidden');
                }
                
                // Show/hide right arrow
                if (scrollLeft + clientWidth >= scrollWidth - 10) {
                    scrollRightBtn.classList.add('hidden');
                } else {
                    scrollRightBtn.classList.remove('hidden');
                }
            }
            
            // ============= INITIALIZE EVERYTHING =============
            initCarousel();
            initCategoriesScroll();
            
            // Handle window resize
            window.addEventListener('resize', function() {
                // Force re-render of images for responsive switching
                carouselSlides.forEach(slide => {
                    const desktopImg = slide.querySelector('.desktop-image');
                    const mobileImg = slide.querySelector('.mobile-image');
                    
                    if (window.innerWidth >= 769) {
                        // Desktop
                        if (desktopImg) {
                            desktopImg.style.display = 'block';
                        }
                        if (mobileImg) {
                            mobileImg.style.display = 'none';
                        }
                    } else {
                        // Mobile
                        if (desktopImg) {
                            desktopImg.style.display = 'none';
                        }
                        if (mobileImg) {
                            mobileImg.style.display = 'block';
                        }
                    }
                });
                
                // Re-initialize categories scroll on resize
                initCategoriesScroll();
            });
            
            // Trigger initial resize
            window.dispatchEvent(new Event('resize'));
        });
    </script>
</body>
</html>
